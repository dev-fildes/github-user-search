(this["webpackJsonpgithub-user-search"]=this["webpackJsonpgithub-user-search"]||[]).push([[0],{17:function(e,t,a){},26:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),l=(a(17),a(12)),u=a(2),i=a(3),o=a.n(i),m=a(6),b=a(1),f=a(9),E=function(e){var t,a=new f.a({auth:Object({NODE_ENV:"production",PUBLIC_URL:"/github-user-search",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PRIVATE_KEY,userAgent:"userSearch v0"}),c=e.account,s=Object(n.useState)([]),l=Object(b.a)(s,2),u=l[0],i=l[1],E=Object(n.useState)(null),d=Object(b.a)(E,2),h=d[0],p=d[1],g=Object(n.useState)(null),v=Object(b.a)(g,2),O=v[0],j=v[1],S=Object(n.useState)([]),N=Object(b.a)(S,2),_=(N[0],N[1]),P=Object(n.useState)(0),x=Object(b.a)(P,2),T=x[0],w=x[1];return Object(n.useEffect)((function(){(function(){var t=Object(m.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.request("GET /rate_limit");case 2:0===t.sent.data.rate.remaining?("Error: Github API rate-limit exceeded, please try back in 30 minutes.",_("Error: Github API rate-limit exceeded, please try back in 30 minutes.")):(a.request("GET /users/".concat(e.account.login),{username:e.account.login}).then((function(e){null!==e.data.bio&&i(e.data.bio)})),a.repos.listForUser({username:e.account.login}).then((function(e){w(e.data.length)})),a.users.listFollowersForUser({username:c.login}).then((function(e){p(e.data.length)})),a.request("GET /users/".concat(c.login,"/starred")).then((function(e){j(e.data.length)})));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),u.length>0&&(t=r.a.createElement("div",{className:"profileInfo"},u)),r.a.createElement("a",{href:c.html_url},r.a.createElement("div",{className:"usercard-main"},r.a.createElement("img",{src:c.avatar_url,alt:"user's icon",className:"userimg",width:"100px"}),r.a.createElement("div",{id:"userlink"},c.login),r.a.createElement("div",{className:"statistics"},r.a.createElement("div",{className:"repos"},r.a.createElement("i",{className:"fas fa-code"}),T),r.a.createElement("div",{className:"followers",title:"Followers",alt:"followers"},r.a.createElement("i",{class:"fas fa-people-arrows"}),h),r.a.createElement("div",{className:"stars",title:"stars",alt:"stars"},r.a.createElement("i",{className:"fas fa-star"}),O)),t))};function d(e){var t=e.gotoNextPage,a=e.gotoPrevPage;return r.a.createElement("div",null,a&&r.a.createElement("button",{onClick:a,className:"pagination-button-back"},r.a.createElement("i",{className:"fas fa-arrow-left"})),t&&r.a.createElement("button",{onClick:t,className:"pagination-button"},r.a.createElement("i",{className:"fas fa-arrow-right"})))}var h=function(e){var t,a=e.errors;return a.length>0&&(t=r.a.createElement("div",{className:"errors"},a)),r.a.createElement(n.Fragment,null,t)},p=function(){var e=new f.a({auth:Object({NODE_ENV:"production",PUBLIC_URL:"/github-user-search",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PRIVATE_KEY,userAgent:"userSearch v0"}),t=a(37),c=Object(n.useState)([]),s=Object(b.a)(c,2),l=s[0],u=s[1],i=Object(n.useState)(""),p=Object(b.a)(i,2),g=p[0],v=p[1],O=Object(n.useState)(!0),j=Object(b.a)(O,2),S=j[0],N=j[1],_=Object(n.useState)(""),P=Object(b.a)(_,2),x=P[0],T=P[1],w=Object(n.useState)(""),k=Object(b.a)(w,2),A=k[0],C=k[1],y=Object(n.useState)([]),I=Object(b.a)(y,2),D=I[0],G=I[1],K=Object(n.useState)(1),U=Object(b.a)(K,2),R=U[0],q=U[1],W=Object(n.useState)(""),F=Object(b.a)(W,2),L=F[0],H=F[1],V=Object(n.useState)(""),B=Object(b.a)(V,2),J=B[0],Y=B[1],M=Object(n.useRef)(!0);Object(n.useEffect)((function(){M.current?M.current=!1:z()}),[R]);var z=function(){var t=Object(m.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request("GET /rate_limit");case 2:0===t.sent.data.rate.remaining?("Error: Github API rate-limit exceeded, please try back in 30 minutes.",G("Error: Github API rate-limit exceeded, please try back in 30 minutes.")):Q();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){if(""===g){G("Error: Please input a username.")}else G("");e.search.users({q:"".concat(g),page:"".concat(R),per_page:2}).then((function(e){var a=t(e.headers.link);N(!1),T(e.data.total_count),null!==a&&(null!==a.next&&void 0!==a.next&&(H((function(e){return a.next.page})),C(a.last.page)),a.prev&&null!==a.prev&&Y(a.prev.page)),u(e.data.items.map((function(e){return r.a.createElement(E,{key:e.id,account:e})})))})).catch((function(e){return console.log(e)}))};if(S>3)return"Loading..";var X,Z;return""!==x&&(X=r.a.createElement("div",{className:"count-total"},x," users in total.")),L&&(Z=r.a.createElement("span",{className:"total_pages"},"Page ",R," of ",A)),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"search-header"},r.a.createElement("div",{className:"github-logo"},r.a.createElement("i",{className:"fab fa-github fa-10x"})),r.a.createElement("h1",null,"Search Github Users"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),z()}},r.a.createElement("label",null,r.a.createElement("input",{type:"text",value:g,onChange:function(e){var t=e.target.value;v(t)},className:"search",placeholder:"Search Users..",required:!0})),r.a.createElement("button",{type:"submit",className:"fas fa-search",id:"submit-button"})),r.a.createElement("br",null),void 0!==D?r.a.createElement(h,{errors:D}):null),r.a.createElement("div",{className:"returned-info"},X,l,Z,r.a.createElement(d,{gotoNextPage:L?function(){q((function(e){return L}))}:null,gotoPrevPage:J?function(){q((function(e){return J}))}:null})))},g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(u.a,{exact:!0,path:"/github-user-search",component:p})))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.46abf9ba.chunk.js.map