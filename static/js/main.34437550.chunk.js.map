{"version":3,"sources":["components/UserCard.js","components/Pagination.js","components/ErrorList.js","components/Home.js","App.js","index.js"],"names":["UserCard","props","biohtml","octokit","Octokit","auth","process","PRIVATE_KEY","userAgent","user","account","useState","bio","setBio","profile","setProfile","stars","setStars","setError","useEffect","a","request","data","rate","remaining","login","username","then","response","length","rate_limit","className","href","html_url","src","avatar_url","alt","width","id","public_repos","title","followers","Pagination","gotoNextPage","gotoPrevPage","onClick","ErrorList","displayError","errors","Home","parse","require","users","setUsers","searchQuery","setSearchQuery","loading","setLoading","total","setTotal","last","setLast","error","currentPage","setCurrentPage","nextPage","setNextPage","prevPage","setPrevPage","isFirstRun","useRef","current","getUserList","search","q","page","per_page","parsed","headers","link","total_count","next","undefined","prevState","prev","items","map","acct","key","catch","e","console","log","total_users","page_total","onSubmit","preventDefault","type","value","onChange","searchUser","target","placeholder","required","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.34437550.chunk.js","sourcesContent":["/* eslint-disable */\nimport React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom';\nimport { Octokit } from \"@octokit/rest\";\n\nconst UserCard = (props) => {\n\tconst octokit = new Octokit({ \n\t\tauth: process.env.PRIVATE_KEY,\n\t\tuserAgent: 'userSearch v0' });\n\tconst user = props.account;\n\tconst [bio, setBio] = useState('');\n\tconst [profile, setProfile] = useState([])\n\tconst [followers, setFollowers] = useState(null);\n\tconst [stars, setStars] = useState(null);\n\tconst [error, setError] = useState([]);\n\tconst [repos, setRepos] = useState(0);\n\n\n\tuseEffect(() => {\n\t\tconst rate_limit = async() => {\n\t\t\tlet response = await octokit.request('GET /rate_limit')\n\t\t\tif (response.data.rate.remaining === 0) {\n\t\t\t\tlet errors = \"Error: Github API rate-limit exceeded, please try back in 30 minutes.\"\n\t\t\t\tsetError(errors)\n\t\t\t} else {\n\t\t\t\toctokit.request(`GET /users/${props.account.login}`, {\n\t\t\t\t\tusername: props.account.login,\n\t\t\t\t}).then(response => {\n\t\t\t\t\tsetProfile(response.data)\n\t\t\t\t\tif(response.data.bio !== null && response.data.bio.length > 0) {\n\t\t\t\t\t\tsetBio(response.data.bio)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\toctokit.request(`GET /users/${user.login}/starred`)\n\t\t\t\t.then(response => {\n\t\t\t\t\tsetStars(response.data.length);\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t\trate_limit();\n\t}, []);\n\n\tlet biohtml;\n\tif(bio.length > 0) {\n\t\tbiohtml = <div className=\"profileInfo\">\n\t\t{bio}\n\t\t</div>\n\t}\n\n\treturn(\n        <a href={user.html_url}>\n    <div className=\"usercard-main\">\n        <img src={user.avatar_url} alt=\"user's icon\" className=\"userimg\" width=\"100px\"/>\n        <div id=\"userlink\">\n            {user.login}\n        </div>\n        <div className=\"statistics\">\n            <div className=\"repos\">\n                <i className=\"fas fa-code\"></i>   \n                {profile.public_repos}\n            </div>                      \n            <div className=\"followers\" title=\"Followers\" alt=\"followers\">\n                \n               <i className=\"fas fa-people-arrows\"></i>\n               {profile.followers}\n           </div>\n           <div className=\"stars\" title=\"stars\" alt=\"stars\">\n            <i className=\"fas fa-star\"></i>\n            {stars}\n        </div>\n    </div>\n    {biohtml}\n</div>\n</a>\n\t\t)\n}\nexport default UserCard;","import React from 'react'\n\nexport default function Pagination({ gotoNextPage, gotoPrevPage }) {\n\treturn (\n        <div>\n            {gotoPrevPage && <button onClick={gotoPrevPage} className=\"pagination-button-back\"><i className=\"fas fa-arrow-left\"></i></button>}\n            {gotoNextPage && <button onClick={gotoNextPage} className=\"pagination-button\"><i className=\"fas fa-arrow-right\"></i></button>}\n        </div>\n\t\t)\n};","import React, { Fragment } from 'react'\n\nconst ErrorList = ({ errors }) => {\nlet displayError;\n\tif (errors.length > 0 ) {\n\t\tdisplayError = (\n\t\t\t<div className=\"errors\">\n     \t {errors}\n    \t</div>)\n\t}\n\n  return(\n    <Fragment>\n      {displayError}\n    </Fragment>\n  )\n}\nexport default ErrorList;\n","/* eslint-disable */\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Octokit } from \"@octokit/rest\";\n\nimport UserCard from './UserCard.js';\nimport Pagination from './Pagination.js';\nimport ErrorList from './ErrorList'\n\nconst Home = () => {\n  const octokit = new Octokit({ \n    auth: process.env.PRIVATE_KEY,\n    userAgent: 'userSearch v0' });\n  const parse = require('parse-link-header');\n\n  const [users, setUsers] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [total, setTotal] = useState('');\n  \n  const [last, setLast] = useState('');\n  const [error, setError] = useState([]);\n  \n  const [currentPage, setCurrentPage] = useState(1);\n  const [nextPage, setNextPage] = useState('');\n  const [prevPage, setPrevPage] = useState('');\n\n  const onChangeInput = (e) => {\n   const searchUser = e.target.value;\n   setSearchQuery(searchUser)\n };\n\n const onSubmit = (e) => {\n  e.preventDefault();\n  rate_limit();\n};\n\nconst isFirstRun = useRef(true);\nuseEffect(() => {\n  if(isFirstRun.current) {\n    isFirstRun.current = false;\n    return;\n  }\n  rate_limit();\n}, [currentPage]);\n\nconst rate_limit = async() => {\n  let response = await octokit.request('GET /rate_limit')\n  if (response.data.rate.remaining === 0) {\n    let errors = \"Error: Github API rate-limit exceeded, please try back in 30 minutes.\"\n    setError(errors)\n  } else {\n    getUserList();\n  }\n};\n\nconst getUserList = () => { \n  if(searchQuery === \"\") {\n   let errors = \"Error: Please input a username.\"\n   setError(errors)\n } else {\n  setError('')\n}\noctokit.search.users({\n  q: `${searchQuery}`,\n  page: `${currentPage}`,\n  per_page: 2\n})\n.then(response => {\n  let parsed = parse(response.headers.link)\n  setLoading(false)\n  setTotal(response.data.total_count)\n  if(parsed !== null) {\n    if(parsed.next !== null && parsed.next !== undefined) {\n      setNextPage(prevState => parsed.next.page)\n      setLast(parsed.last.page)\n    }\n    if(parsed.prev && parsed.prev !== null) {\n      setPrevPage(parsed.prev.page)\n    }\n  }\n  setUsers(response.data.items.map(acct => {\n    return(\n      <UserCard\n      key={acct.id}\n      account={acct}\n      />)\n  }));\n})\n.catch(e => console.log(e))\n};\n\nif(loading > (3)) return \"Loading..\"\n\n  const gotoNextPage = () => {\n    setCurrentPage(prevState => nextPage)\n  };\n\n  const gotoPrevPage = () => {\n    setCurrentPage(prevState => prevPage)\n  };\n\n  let total_users ;\n  if(total !== '') {\n    total_users = <div className=\"count-total\">\n    {total} users in total.\n    </div>  \n  };\n\n  let page_total;\n  if(nextPage) {\n    page_total = <span className=\"total_pages\">Page {currentPage} of {last}</span>\n  };\n\n  return(\n    <div className=\"main\">\n        <div className=\"search-header\">\n\n            <div className=\"github-logo\">\n                <i className=\"fab fa-github fa-10x\"></i>\n            </div>\n\n            <h1>Search Github Users</h1>\n\n            <form onSubmit={onSubmit}>\n                <label>\n                    <input\n                    type=\"text\"\n                    value={searchQuery}\n                    onChange={onChangeInput}\n                    className=\"search\"\n                    placeholder=\"Search Users..\"\n                    required\n                    />\n                </label>\n\n                <button \n                type=\"submit\"\n                className=\"fas fa-search\"\n                id=\"submit-button\"\n                />\n            </form>\n\n            <br/>\n\n            {error !== undefined ? <ErrorList errors={error} /> : null}\n\n        </div>\n\n        <div className=\"returned-info\">\n            {total_users}\n\n            {users}\n\n            {page_total}\n            <Pagination\n            gotoNextPage={nextPage ? gotoNextPage : null}\n            gotoPrevPage={prevPage ? gotoPrevPage : null}\n            />\n        </div>\n    </div>\n    )\n};\nexport default Home","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport './styles/index.css';\n\nimport Home from './components/Home.js'\n\nconst App = () => {\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route exact path=\"/github-user-search\" component={Home}/>\n      </Router>\n    </div>\n    );\n  }\n\n  export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}