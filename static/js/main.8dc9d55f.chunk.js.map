{"version":3,"sources":["components/UserCard.js","components/Pagination.js","components/ErrorList.js","components/Home.js","components/ProfileContainer.js","App.js","index.js"],"names":["UserCard","props","Octokit","auth","process","PRIVATE_KEY","userAgent","user","account","useState","followers","stars","useEffect","to","login","className","src","avatar_url","alt","width","id","title","Pagination","gotoNextPage","gotoPrevPage","onClick","ErrorList","displayError","errors","length","Home","octokit","parse","require","users","setUsers","searchQuery","setSearchQuery","loading","setLoading","total","setTotal","last","setLast","error","setError","currentPage","setCurrentPage","nextPage","setNextPage","prevPage","setPrevPage","isFirstRun","useRef","current","rate_limit","a","request","data","rate","remaining","getUserList","search","q","page","per_page","then","response","parsed","headers","link","total_count","next","prevState","prev","items","map","acct","key","catch","e","console","log","total_users","page_total","onSubmit","preventDefault","type","value","onChange","searchUser","target","placeholder","required","undefined","ProfileContainer","setUser","history","useHistory","repos","setRepos","match","params","username","listForUser","following","goBack","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8dc9d55f.chunk.js","sourcesContent":["/* eslint-disable */\nimport React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom';\nimport { Octokit } from \"@octokit/rest\";\n\nconst UserCard = (props) => {\n\tconst octokit = new Octokit({ \n\t\tauth: process.env.PRIVATE_KEY,\n\t\tuserAgent: 'userSearch v0' });\n\tconst user = props.account;\n\tconst [followers, setFollowers] = useState(null);\n\tconst [stars, setStars] = useState(null);\n\tconst [error, setError] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst rate_limit = async() => {\n\t\t\tlet response = await octokit.request('GET /rate_limit')\n\t\t\tif (response.data.rate.remaining === 0) {\n\t\t\t\tlet errors = \"Error: Github API Rate-limit exceeded, please try back in 30 minutes.\"\n\t\t\t\tsetError(errors)\n\t\t\t} else {\n\t\t\t\toctokit.users.listFollowersForUser({\n\t\t\t\t\tusername: user.login,\n\t\t\t\t}).then(response => {\n\t\t\t\t\tsetFollowers(response.data.length);\n\t\t\t\t});\n\t\t\t\toctokit.request(`GET /users/${user.login}/starred`)\n\t\t\t\t.then(response => {\n\t\t\t\t\tsetStars(response.data.length);\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\n\t}, []);\n\t\n\treturn(\n        <Link to={\"/github-user-search/profile/\" + user.login}>\n        <div className=\"usercard-main\">\n            <img src={user.avatar_url} alt=\"user's icon\" className=\"userimg\" width=\"100px\"/>\n            <div id=\"userlink\">\n                {user.login}\n            </div>\n            <div className=\"statistics\">\n                <div className=\"followers\" title=\"Followers\" alt=\"followers\">\n                    <i className=\"fas fa-user-friends\"></i>\n                    {followers}\n                </div>\n                <div className=\"stars\" title=\"stars\" alt=\"stars\">\n                    <i className=\"fas fa-star\"></i>\n                    {stars}\n                </div>\n            </div>\n        </div>\n    </Link>\n\t\t)\n}\nexport default UserCard;","import React from 'react'\n\nexport default function Pagination({ gotoNextPage, gotoPrevPage }) {\n\treturn (\n        <div>\n            {gotoPrevPage && <button onClick={gotoPrevPage} className=\"pagination-button-back\"><i className=\"fas fa-arrow-left\"></i></button>}\n            {gotoNextPage && <button onClick={gotoNextPage} className=\"pagination-button\"><i className=\"fas fa-arrow-right\"></i></button>}\n        </div>\n\t\t)\n};","import React, { Fragment } from 'react'\n\nconst ErrorList = ({ errors }) => {\nlet displayError;\n\tif (errors.length > 0 ) {\n\t\tdisplayError = (\n\t\t\t<div className=\"errors\">\n     \t {errors}\n    \t</div>)\n\t}\n\n  return(\n    <Fragment>\n      {displayError}\n    </Fragment>\n  )\n}\nexport default ErrorList;\n","/* eslint-disable */\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Octokit } from \"@octokit/rest\";\n\nimport UserCard from './UserCard.js';\nimport Pagination from './Pagination.js';\nimport ErrorList from './ErrorList'\n\nconst Home = () => {\n  const octokit = new Octokit({ \n    auth: process.env.PRIVATE_KEY,\n    userAgent: 'userSearch v0' });\n  const parse = require('parse-link-header');\n\n  const [users, setUsers] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [total, setTotal] = useState('');\n  \n  const [last, setLast] = useState('');\n  const [error, setError] = useState([]);\n  \n  const [currentPage, setCurrentPage] = useState(1);\n  const [nextPage, setNextPage] = useState('');\n  const [prevPage, setPrevPage] = useState('');\n\n  const onChangeInput = (e) => {\n   const searchUser = e.target.value;\n   setSearchQuery(searchUser)\n };\n\n const onSubmit = (e) => {\n  e.preventDefault();\n  rate_limit();\n};\n\nconst isFirstRun = useRef(true);\nuseEffect(() => {\n  if(isFirstRun.current) {\n    isFirstRun.current = false;\n    return;\n  }\n  rate_limit();\n}, [currentPage]);\n\nconst rate_limit = async() => {\n  let response = await octokit.request('GET /rate_limit')\n  if (response.data.rate.remaining === 0) {\n    let errors = \"Error: Github API Rate-limit exceeded, please try back in 30 minutes.\"\n    setError(errors)\n  } else {\n    getUserList();\n  }\n};\n\nconst getUserList = () => { \n  if(searchQuery === \"\") {\n   let errors = \"Error: Please input a username.\"\n   setError(errors)\n } else {\n  setError('')\n}\noctokit.search.users({\n  q: `${searchQuery}`,\n  page: `${currentPage}`,\n  per_page: 5\n})\n.then(response => {\n  let parsed = parse(response.headers.link)\n  setLoading(false)\n  setTotal(response.data.total_count)\n  if(parsed !== null) {\n    if(parsed.next !== null) {\n      setNextPage(prevState => parsed.next.page)\n      setLast(parsed.last.page)\n    }\n    if(parsed.prev && parsed.prev !== null) {\n      setPrevPage(parsed.prev.page)\n    }\n  }\n  setUsers(response.data.items.map(acct => {\n    return(\n      <UserCard\n      key={acct.id}\n      account={acct}\n      />)\n  }));\n})\n.catch(e => console.log(e))\n};\n\nif(loading > (3)) return \"Loading..\"\n\n  const gotoNextPage = () => {\n    setCurrentPage(prevState => nextPage)\n  };\n\n  const gotoPrevPage = () => {\n    setCurrentPage(prevState => prevPage)\n  };\n\n  let total_users ;\n  if(total !== '') {\n    total_users = <div className=\"count-total\">\n    {total} users in total.\n    </div>  \n  };\n\n  let page_total;\n  if(nextPage) {\n    page_total = <span className=\"total_pages\">Page {currentPage} of {last}</span>\n  };\n\n  return(\n    <div className=\"main\">\n        <div className=\"search-header\">\n\n            <div className=\"github-logo\">\n                <i className=\"fab fa-github fa-10x\"></i>\n            </div>\n\n            <h1>Search Github Users</h1>\n\n            <form onSubmit={onSubmit}>\n                <label>\n                    <input\n                    type=\"text\"\n                    value={searchQuery}\n                    onChange={onChangeInput}\n                    className=\"search\"\n                    placeholder=\"Search Users..\"\n                    required\n                    />\n                </label>\n\n                <button \n                type=\"submit\"\n                className=\"fas fa-search\"\n                id=\"submit-button\"\n                />\n            </form>\n\n            <br/>\n\n            {error !== undefined ? <ErrorList errors={error} /> : null}\n\n        </div>\n\n        <div className=\"returned-info\">\n            {total_users}\n\n            {users}\n\n            {page_total}\n            <Pagination\n            gotoNextPage={nextPage ? gotoNextPage : null}\n            gotoPrevPage={prevPage ? gotoPrevPage : null}\n            />\n        </div>\n    </div>\n    )\n};\nexport default Home","/* eslint-disable */\nimport React, { useState, useEffect } from 'react';\nimport { Octokit } from \"@octokit/rest\";\nimport { useHistory } from \"react-router-dom\";\n\nconst ProfileContainer = (props) => {\n\tconst octokit = new Octokit({ \n\t\tauth: process.env.PRIVATE_KEY,\n\t\tuserAgent: 'userSearch v0' });\n\tconst [user, setUser] = useState([]);\n\tlet history = useHistory();\n\tconst [repos, setRepos] = useState(0);\n\n\tuseEffect(() => {\n\t\toctokit.request(`GET /users/${props.match.params.username}`, {\n\t\t\tusername: props.match.params.username,\n\t\t}).then(response => {\n\t\t\tsetUser(response.data)\n\t\t});\n\n\t\toctokit.repos.listForUser({\n\t\t\tusername: props.match.params.username\n\t\t})\n\t\t.then(response => {\n\t\t\tsetRepos(response.data.length);\n})\n\t}, []);\n\n\treturn(\n        <div className=\"profileContainer\">\n            <img src={user.avatar_url} width=\"100px;\" alt=\"User Icon\"/>\n            <h2>{user.login}</h2>\n            <h3>{repos} Repos • {user.followers} Followers • {user.following} Followed</h3>\n            <button onClick={() => history.goBack()} className=\"pagination-button-return\">Back</button>\n        </div>\n\t\t)\n}\nexport default ProfileContainer;","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport './styles/index.css';\n\nimport Home from './components/Home.js'\nimport ProfileContainer from './components/ProfileContainer.js'\n\nconst App = () => {\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route exact path=\"/github-user-search\" component={Home}/>\n        <Route exact path=\"/github-user-search/profile/:username\" component={ProfileContainer}/>\n      </Router>\n    </div>\n    );\n  }\n\n  export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}